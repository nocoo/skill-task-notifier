# ğŸ‰ Claude Code æŠ€èƒ½ - TaskNotifier

> Claude Code å¤šç«¯é€šçŸ¥å·¥å…· - æ”¯æŒ Bark æ¨é€ã€ç³»ç»Ÿå¼¹çª—ã€å£°éŸ³æé†’ï¼

[![Skill](https://img.shields.io/badge/Claude_Code-Skill-blue)](https://claude.com/claude-code)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)
[![Tests](https://img.shields.io/badge/Tests-47%20Passed-brightgreen)](#æµ‹è¯•)

---

**ç®€ä½“ä¸­æ–‡ | [English](./README.md)**

---

## âœ¨ ç‰¹æ€§

| åŠŸèƒ½ | è¯´æ˜ |
|------|------|
| **ğŸ“± Bark æ¨é€** | iOS æ¨é€é€šçŸ¥ï¼Œæ”¯æŒè‡ªå®šä¹‰å›¾æ ‡å’Œå£°éŸ³ |
| **ğŸ’» ç³»ç»Ÿé€šçŸ¥** | macOS/Linux/Windows æ¡Œé¢å¼¹çª— |
| **ğŸ”Š å£°éŸ³æé†’** | è·¨å¹³å°å£°éŸ³æ’­æ”¾ï¼Œæ ¹æ®çº§åˆ«ä½¿ç”¨ä¸åŒéŸ³æ•ˆ |
| **ğŸš€ é›¶ä¾èµ–** | çº¯ Python æ ‡å‡†åº“ - æ— éœ€ pip install |
| **ğŸ¤– æ™ºèƒ½è§¦å‘** | è‡ªåŠ¨æ£€æµ‹ä»»åŠ¡æˆåŠŸ/å¤±è´¥çŠ¶æ€ |

## ğŸ¯ é€šçŸ¥çº§åˆ«

| çº§åˆ« | å›¾æ ‡ | å£°éŸ³ | ä½¿ç”¨åœºæ™¯ |
|-------|------|------|----------|
| `success` | âœ… | Glass | æ„å»ºæˆåŠŸã€æµ‹è¯•é€šè¿‡ã€éƒ¨ç½²å®Œæˆ |
| `error` | âŒ | Basso | æ„å»ºå¤±è´¥ã€æµ‹è¯•å¤±è´¥ã€å‘½ä»¤æŠ¥é”™ |
| `info` | â„¹ï¸ | Ping | ä»»åŠ¡å¼€å§‹ã€çŠ¶æ€æ›´æ–°ã€è­¦å‘Š |

## ğŸ“‹ å‰ç½®è¦æ±‚

- **Python 3.6+** (macOS/Linux è‡ªå¸¦)
- **Bark App** (iOS æ¨é€ï¼Œå¯é€‰ä½†æ¨è)
  - ä¸‹è½½: [App Store](https://apps.apple.com/cn/app/bark-customed-notifications/id1403750366)
  - GitHub: [Finb/Bark](https://github.com/Finb/Bark)

## ğŸš€ å®‰è£…

### æ­¥éª¤ 1: å…‹éš†æˆ–ä¸‹è½½

```bash
git clone https://github.com/nocoo/skill-task-notifier.git
cd skill-task-notifier
```

### æ­¥éª¤ 2: é…ç½® Bark Keyï¼ˆå¯é€‰ä½†æ¨èï¼‰

1. æ‰“å¼€ Bark Appï¼Œå¤åˆ¶ä½ çš„æ¨é€å¯†é’¥
2. åˆ›å»ºé…ç½®æ–‡ä»¶ï¼š

```bash
cp config.example.json scripts/config.json
```

3. ç¼–è¾‘ `scripts/config.json`ï¼Œå¡«å…¥ä½ çš„ Bark Keyï¼š

```json
{
  "bark_server": "https://api.day.app",
  "bark_key": "ä½ çš„å¯†é’¥",
  "bark_group": "Claude Code",
  "sound_enabled": true,
  "system_notify_enabled": true
}
```

> ğŸ’¡ **æç¤º:** å¦‚æœä¸é…ç½® Bark Keyï¼Œç³»ç»Ÿé€šçŸ¥å’Œå£°éŸ³æé†’ä»ç„¶å¯ç”¨ã€‚

### æ­¥éª¤ 3: è¿è¡Œå®‰è£…è„šæœ¬

```bash
./install.sh
```

å®‰è£…è„šæœ¬ä¼šè‡ªåŠ¨ï¼š
- åˆ›å»º `~/.claude/skills/task-notifier/` ç›®å½•
- åˆ›å»ºè½¯é“¾æ¥åˆ° Skill æ–‡ä»¶
- è®¾ç½®å¯æ‰§è¡Œæƒé™
- éªŒè¯å®‰è£…å®Œæ•´æ€§

## ğŸ“– ä½¿ç”¨æ–¹æ³•

### åœ¨ Claude Code ä¸­å¯ç”¨

åœ¨ä½ çš„å…¨å±€é…ç½®æ–‡ä»¶ `~/.claude/CLAUDE.md` ä¸­æ·»åŠ ï¼š

```markdown
## ä»»åŠ¡é€šçŸ¥

å½“å®Œæˆè€—æ—¶è¶…è¿‡ 1 åˆ†é’Ÿçš„ä»»åŠ¡ï¼Œæˆ–æˆ‘æ˜ç¡®è¦æ±‚é€šçŸ¥æ—¶ï¼š
- ä½¿ç”¨ TaskNotifier skill å‘é€é€šçŸ¥
- ä»»åŠ¡æ— é”™è¯¯å®Œæˆæ—¶ä½¿ç”¨ 'success' çº§åˆ«
- å‘½ä»¤å¤±è´¥ï¼ˆexit code != 0ï¼‰æ—¶ä½¿ç”¨ 'error' çº§åˆ«
- çŠ¶æ€æ›´æ–°ä½¿ç”¨ 'info' çº§åˆ«

ç¤ºä¾‹ï¼š
```
python3 ~/.claude/skills/task-notifier/scripts/notify.py success "æ„å»ºå®Œæˆï¼Œè€—æ—¶ 2 åˆ† 15 ç§’"
```
```

### ç¤ºä¾‹ Prompt

```
# è®© Claude åœ¨æ„å»ºå®Œæˆåé€šçŸ¥ä½ 
"æ„å»ºé¡¹ç›®å¹¶åœ¨å®Œæˆåé€šçŸ¥æˆ‘"

# è®© Claude åœ¨æµ‹è¯•å®Œæˆåé€šçŸ¥ä½ 
"è¿è¡Œæ‰€æœ‰æµ‹è¯•å¹¶åœ¨å®Œæˆåå‘é€é€šçŸ¥"

# è®© Claude åœ¨é•¿æ—¶é—´ä»»åŠ¡åé€šçŸ¥ä½ 
"éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒå¹¶é€šçŸ¥ç»“æœ"

# æ˜¾å¼è¦æ±‚é€šçŸ¥
"è¿è¡Œæ•°æ®åº“è¿ç§»å¹¶å‘Šè¯‰æˆ‘ä½•æ—¶å®Œæˆ"
```

### æ‰‹åŠ¨æµ‹è¯•

```bash
# æµ‹è¯•æˆåŠŸé€šçŸ¥
python3 ~/.claude/skills/task-notifier/scripts/notify.py success "æµ‹è¯•é€šçŸ¥"

# æµ‹è¯•é”™è¯¯é€šçŸ¥
python3 ~/.claude/skills/task-notifier/scripts/notify.py error "æµ‹è¯•é”™è¯¯"

# æµ‹è¯•ä¿¡æ¯é€šçŸ¥
python3 ~/.claude/skills/task-notifier/scripts/notify.py info "æµ‹è¯•ä¿¡æ¯"
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
skill-task-notifier/
â”œâ”€â”€ .gitignore              # Git å¿½ç•¥è§„åˆ™
â”œâ”€â”€ config.example.json     # é…ç½®æ¨¡æ¿
â”œâ”€â”€ install.sh              # å®‰è£…è„šæœ¬
â”œâ”€â”€ README.md               # è‹±æ–‡ç‰ˆ
â”œâ”€â”€ README.zh-CN.md         # æœ¬æ–‡ä»¶ï¼ˆä¸­æ–‡ç‰ˆï¼‰
â”œâ”€â”€ run_tests.sh            # æµ‹è¯•è¿è¡Œè„šæœ¬
â”œâ”€â”€ SKILL.md                # Skill å®šä¹‰ï¼ˆClaude ä½¿ç”¨ï¼‰
â””â”€â”€ scripts/
    â”œâ”€â”€ notify.py           # æ ¸å¿ƒé€šçŸ¥é€»è¾‘ï¼ˆé›¶ä¾èµ– Pythonï¼‰
    â””â”€â”€ config.json         # ä½ çš„é…ç½®ï¼ˆä¸åœ¨ git ä¸­ï¼‰
```

## ğŸ”§ å·¥ä½œåŸç†

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Claude Code    â”‚
â”‚  (ä»»åŠ¡å®Œæˆ)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TaskNotifier Skill                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  1. è¯»å– config.json            â”‚   â”‚
â”‚  â”‚  2. ç¡®å®šçº§åˆ«                    â”‚   â”‚
â”‚  â”‚  3. å‘é€ Bark æ¨é€ (iOS)       â”‚   â”‚
â”‚  â”‚  4. æ˜¾ç¤ºç³»ç»Ÿé€šçŸ¥                â”‚   â”‚
â”‚  â”‚  5. æ’­æ”¾å£°éŸ³                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Bark   â”‚  â”‚  æ¡Œé¢é€šçŸ¥ â”‚ â”‚  å£°éŸ³  â”‚ â”‚
â”‚  â”‚   (iOS)  â”‚  â”‚  (macOS) â”‚ â”‚ (afplay)â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ§ª æµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
./run_tests.sh

# æˆ–ç›´æ¥ä½¿ç”¨ unittest
python3 -m unittest discover -s tests -p 'test_*.py' -v

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Šï¼ˆéœ€è¦: pip install coverageï¼‰
coverage run --source='scripts' -m unittest discover -s tests
coverage report -m
coverage html
```

### æµ‹è¯•è¦†ç›–ç‡

| æŒ‡æ ‡ | æ•°å€¼ |
|------|------|
| **æµ‹è¯•æ•°** | 47 |
| **é€šè¿‡ç‡** | 100% |
| **ä»£ç è¦†ç›–ç‡** | 90% |
| **ä»£ç è¡Œæ•°** | ~200 |

## ğŸ”§ é…ç½®è¯´æ˜

| å‚æ•° | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| `bark_server` | string | `https://api.day.app` | Bark æœåŠ¡å™¨åœ°å€ |
| `bark_key` | string | `""` | ä½ çš„ Bark æ¨é€å¯†é’¥ |
| `bark_group` | string | `"Claude Code"` | æ¶ˆæ¯åˆ†ç»„åç§° |
| `sound_enabled` | boolean | `true` | å¯ç”¨å£°éŸ³æé†’ |
| `system_notify_enabled` | boolean | `true` | å¯ç”¨æ¡Œé¢é€šçŸ¥ |

## â“ å¸¸è§é—®é¢˜

### æ²¡æœ‰æ”¶åˆ°é€šçŸ¥ï¼Ÿ

1. **æ£€æŸ¥ Bark Key**: ç¡®è®¤ `scripts/config.json` ä¸­çš„ `bark_key` å·²æ­£ç¡®å¡«å…¥
2. **æ£€æŸ¥å£°éŸ³**: macOS ç¡®ä¿ç³»ç»ŸéŸ³é‡å·²æ‰“å¼€
3. **æ£€æŸ¥æƒé™**: ç¡®ä¿ `notify.py` æœ‰å¯æ‰§è¡Œæƒé™ (`chmod +x scripts/notify.py`)

### macOS é€šçŸ¥æƒé™è¢«æ‹’ç»

```bash
# ç»™äºˆç»ˆç«¯é€šçŸ¥æƒé™
# ç³»ç»Ÿè®¾ç½® â†’ é€šçŸ¥ â†’ ç»ˆç«¯ â†’ å…è®¸é€šçŸ¥
```

### Linux æ‰¾ä¸åˆ° notify-send

```bash
# Ubuntu/Debian
sudo apt install libnotify-bin

# Fedora/RHEL
sudo dnf install libnotify

# Arch Linux
sudo pacman -S libnotify
```

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ PRï¼

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## ğŸ‘¨â€ğŸ’» ä½œè€…

[@nocoo](https://github.com/nocoo) åˆ¶ä½œ

## ğŸ™ è‡´è°¢

- [Bark](https://github.com/Finb/Bark) - iOS æ¨é€é€šçŸ¥æœåŠ¡
- [Claude Code](https://claude.com/claude-code) - AI ç¼–ç¨‹åŠ©æ‰‹

---

**ç®€ä½“ä¸­æ–‡ | [English](./README.md)**
